"use strict";var e=require("vite"),r=require("path"),t=require("url");const n=e=>e.replace(/^.*[\\\/]/,"");function o(e,r={}){const t=new Map,o=new Array,c=(e,r=!1)=>{void 0!==t.get(e)&&r||t.set(e,r)},i=(e,r="")=>{for(const[t,a]of Object.entries(e)){const e=`${r}${t}`;if("object"==typeof a)if(a.src){const r=a,t=r.src,i=r.dynamic??!0;c(t,i);const u={};r.action&&(u.action=r.action),r.dynamic&&(u.dynamic=r.dynamic),r.errorElement&&(u.errorElement=r.errorElement),r.hasErrorBoundary&&(u.errorElement=r.hasErrorBoundary),r.loader&&(u.loader=r.loader),r.shouldRevalidate&&(u.shouldRevalidate=r.shouldRevalidate),o.push({route:e,component:n(t),config:u})}else i(a,e);else c(a),o.push({route:e,component:n(a)})}};i(e);return`\n  import React from 'react';\n  import { createBrowserRouter } from 'react-router-dom';\n  import { lazy } from 'react';\n\n  ${(()=>{const e=[],r=[];for(const[o,c]of t){const t=n(o);c?r.push(`const ${t} = lazy(() => import('${o}'))`):e.push(`import ${t} from '${o}'`)}return[...e,...r].join("\n")})()}\n  \n  const router = createBrowserRouter(\n    [${o.map((({route:e,component:r,config:t})=>`\n        {\n          path: '${e}',\n          element: /*#__PURE__*/React.createElement(${r}, null),\n          ${(e=>{const r="async";return Object.entries(e).map((([e,t])=>{if("function"==typeof t){let n=t.toString();return n.startsWith(r)&&(n=n.slice(r.length,n.length).trim()),n.startsWith("function")?`${e}: ${t.toString()}`:`${t.toString()}`}return`${e}: ${t},`})).join("\n")})(t??{})}\n        }\n      `))}],\n    ${JSON.stringify(r)}\n  );\n  \n  export default router;\n  `}const c=t.fileURLToPath("undefined"==typeof document?require("url").pathToFileURL(__filename).href:document.currentScript&&document.currentScript.src||new URL("vite-plugin-react-router-dom.cjs",document.baseURI).href),i=r.dirname(c);module.exports=function(r){const{name:t,option:n,root:c}=r,a=t??"router.config.js",u=`${c??i}/${e.normalizePath(a)}`;return{name:"vite-plugin-react-router-dom",enforce:"pre",async load(e){if(e.includes(u)){return o((await import(e)).default,n)}return null}}};
//# sourceMappingURL=vite-plugin-react-router-dom.cjs.map
