"use strict";var t=require("vite");const e=t=>t.replace(/^.*[\\\/]/,"");function r(t,r={}){const n=new Map,o=new Array,a=(t,e=!1)=>{void 0!==n.get(t)&&e||n.set(t,e)},c=(t,r="")=>{for(const[n,i]of Object.entries(t)){const t=`${r}${n}`;if("object"==typeof i)if(i.src){const r=i,n=r.src,c=r.dynamic??!0;a(n,c);const s={};r.action&&(s.action=r.action),r.dynamic&&(s.dynamic=r.dynamic),r.errorElement&&(s.errorElement=r.errorElement),r.hasErrorBoundary&&(s.errorElement=r.hasErrorBoundary),r.loader&&(s.loader=r.loader),r.shouldRevalidate&&(s.shouldRevalidate=r.shouldRevalidate),o.push({route:t,component:e(n),config:s})}else c(i,t);else a(i),o.push({route:t,component:e(i)})}};c(t);return`\n  import React from 'react';\n  import { createBrowserRouter } from 'react-router-dom';\n  import { lazy } from 'react';\n\n  ${(()=>{const t=[],r=[];for(const[o,a]of n){const n=e(o);a?r.push(`const ${n} = lazy(() => import('${o}'))`):t.push(`import ${n} from '${o}'`)}return[...t,...r].join("\n")})()}\n  \n  const router = createBrowserRouter(\n    [${o.map((({route:t,component:e,config:r})=>`\n        {\n          path: '${t}',\n          element: /*#__PURE__*/React.createElement(${e}, null),\n          ${(t=>{const e="async";return Object.entries(t).map((([t,r])=>{if("function"==typeof r){let n=r.toString();return n.startsWith(e)&&(n=n.slice(e.length,n.length).trim()),n.startsWith("function")?`${t}: ${r.toString()}`:`${r.toString()}`}return`${t}: ${r},`})).join("\n")})(r??{})}\n        }\n      `))}],\n    ${JSON.stringify(r)}\n  );\n  \n  export default router;\n  `}module.exports=function(e){const{name:n,option:o,root:a}=e,c=n??"router.config.js",i=`${a??"/"}/${t.normalizePath(c)}`;return{name:"vite-plugin-react-router-dom",enforce:"pre",async load(t){if(t.includes(i)){return r((await import(t)).default,o)}return null}}};
//# sourceMappingURL=vite-plugin-react-router-dom.cjs.map
